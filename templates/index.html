{% extends 'base.html' %}
{% block title %}Two-Player Cards{% endblock %}

{% block body %}
<div class="container" role="application">

  <!-- Players Header (left and right players, scores, turn highlight) -->
  <header class="players" role="banner" aria-label="Player header">
    <div class="player {{ 'active' if turn == 0 else '' }}" id="player-left" aria-live="polite" aria-atomic="true">
      <div class="avatar" aria-hidden="true">ðŸ‘¤</div>
      <div class="meta">
        <div class="name" id="p1-name">{{ players[0].name if players else 'Player 1' }}</div>
        <div class="score"><span id="p1-score">{{ players[0].score if players else 0 }}</span> pts</div>
      </div>
    </div>

    <div class="vs" aria-hidden="true">vs</div>

    <div class="player {{ 'active' if turn == 1 else '' }}" id="player-right" aria-live="polite" aria-atomic="true">
      <div class="meta right">
        <div class="name" id="p2-name">{{ players[1].name if players else 'Player 2' }}</div>
        <div class="score"><span id="p2-score">{{ players[1].score if players else 0 }}</span> pts</div>
      </div>
      <div class="avatar" aria-hidden="true">ðŸ‘¤</div>
    </div>
  </header>

  <!-- Main board: single centered deck (face down). kept/used stacks hidden from UI. -->
  <main class="board" role="main" aria-label="Game board">
    <div class="deck-center" aria-live="polite" aria-atomic="true">
      <div class="label">Deck</div>
      <button class="card back big" id="deck" aria-label="Draw card from deck" title="Draw card from deck">
        <span class="count" id="deck-count">{{ deck_count }}</span>
      </button>
    </div>

    <div class="turn-indicator" aria-live="polite">
      <span id="turn-text">Itâ€™s <strong id="turn-name">{{ players[turn].name if players else 'Player 1' }}</strong>â€™s turn</span>
    </div>

    <div class="actions" role="region" aria-label="Game actions">
      <button id="reset" class="reset" type="button" title="Start a new game">New Game</button>
    </div>
  </main>
</div>

{# Include modal templates from templates/modals/ to keep index.html clean.
   Ensure files exist:
     - templates/modals/user_registration.html
     - templates/modals/card_view_modal.html
   They contain required IDs expected by static/app.js (register-form, register-modal,
   card-modal, card-title, card-text, btn-pass, btn-done). #}
{% include 'modals/user_registration.html' %}
{% include 'modals/card_view_modal.html' %}

{% endblock %}
